<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‰∏ì‰∏öÊâãÈÄüÊµãËØï</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        :root {
            --primary: #4361ee;
            --secondary: #3f37c9;
            --accent: #4895ef;
            --dark-bg: #121212;
            --dark-card: #1e1e1e;
            --dark-text: #f5f5f5;
            --light-bg: #f8f9fa;
            --light-card: #ffffff;
            --light-text: #333333;
            --success: #4caf50;
            --warning: #ff9800;
            --danger: #f44336;
            --border-radius: 12px;
            --transition: all 0.3s ease;
        }
        
        body {
            background-color: var(--dark-bg);
            color: var(--dark-text);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            transition: var(--transition);
            overflow-x: hidden;
            position: relative;
        }
        
        body.light-mode {
            background-color: var(--light-bg);
            color: var(--light-text);
        }
        
        .container {
            width: 100%;
            max-width: 1000px;
            background-color: var(--dark-card);
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4);
            position: relative;
            z-index: 10;
            transition: var(--transition);
        }
        
        body.light-mode .container {
            background-color: var(--light-card);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.1);
        }
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        body.light-mode header {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            background: linear-gradient(90deg, var(--accent), var(--primary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 700;
        }
        
        .controls {
            display: flex;
            gap: 15px;
        }
        
        .control-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            width: 42px;
            height: 42px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--dark-text);
            font-size: 1.2rem;
            transition: var(--transition);
        }
        
        .control-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        
        body.light-mode .control-btn {
            background: rgba(0, 0, 0, 0.05);
            color: var(--light-text);
        }
        
        body.light-mode .control-btn:hover {
            background: rgba(0, 0, 0, 0.1);
        }
        
        .game-area {
            display: grid;
            grid-template-columns: 1fr 320px;
            gap: 25px;
        }
        
        .target-container {
            position: relative;
            height: 500px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: var(--border-radius);
            overflow: hidden;
            border: 2px dashed rgba(255, 255, 255, 0.15);
        }
        
        body.light-mode .target-container {
            background: rgba(0, 0, 0, 0.03);
            border: 2px dashed rgba(0, 0, 0, 0.1);
        }
        
        .target {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ff416c, #ff4b2b);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 20px rgba(255, 75, 43, 0.4);
            transition: transform 0.1s, width 0.3s, height 0.3s;
            position: absolute;
            overflow: hidden;
        }
        
        .target img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }
        
        .target:hover {
            transform: scale(1.05);
        }
        
        .target:active {
            transform: scale(0.95);
        }
        
        .stats-panel {
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--border-radius);
            padding: 25px;
            transition: var(--transition);
        }
        
        body.light-mode .stats-panel {
            background: rgba(0, 0, 0, 0.03);
        }
        
        .stat-section {
            margin-bottom: 30px;
        }
        
        .stat-section h2 {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: var(--accent);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .stat-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .stat-box {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            transition: var(--transition);
        }
        
        body.light-mode .stat-box {
            background: rgba(0, 0, 0, 0.05);
        }
        
        .stat-value {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 5px;
            color: var(--accent);
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #aaa;
        }
        
        body.light-mode .stat-label {
            color: #666;
        }
        
        .settings-panel {
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--border-radius);
            padding: 25px;
            margin-top: 25px;
            transition: var(--transition);
        }
        
        body.light-mode .settings-panel {
            background: rgba(0, 0, 0, 0.03);
        }
        
        .customization {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }
        
        .color-picker {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .color-option {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid transparent;
            transition: var(--transition);
        }
        
        .color-option.active {
            border-color: white;
            transform: scale(1.1);
        }
        
        .upload-btn {
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 30px;
            padding: 10px 15px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .upload-btn:hover {
            background: var(--secondary);
        }
        
        #image-upload {
            display: none;
        }
        
        .rank-display {
            background: linear-gradient(135deg, rgba(67, 97, 238, 0.15), rgba(63, 55, 201, 0.15));
            border-radius: var(--border-radius);
            padding: 20px;
            text-align: center;
            margin-top: 20px;
        }
        
        .rank-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--accent);
        }
        
        .rank-range {
            font-size: 1.1rem;
            margin-bottom: 15px;
            color: #aaa;
        }
        
        body.light-mode .rank-range {
            color: #666;
        }
        
        .rank-description {
            font-style: italic;
            color: #ddd;
            line-height: 1.5;
        }
        
        body.light-mode .rank-description {
            color: #555;
        }
        
        .game-buttons {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }
        
        .game-btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .start-btn {
            background: var(--primary);
            color: white;
        }
        
        .start-btn:hover {
            background: var(--secondary);
        }
        
        .reset-btn {
            background: rgba(255, 255, 255, 0.1);
            color: var(--dark-text);
        }
        
        .reset-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        body.light-mode .reset-btn {
            background: rgba(0, 0, 0, 0.05);
            color: var(--light-text);
        }
        
        body.light-mode .reset-btn:hover {
            background: rgba(0, 0, 0, 0.1);
        }
        
        /* Floating elements */
        .floating {
            position: absolute;
            pointer-events: none;
            z-index: 1;
            opacity: 0.7;
            font-size: 1.8rem;
            animation: float 15s infinite linear;
        }
        
        @keyframes float {
            0% {
                transform: translateY(0) translateX(0) rotate(0deg) scale(1);
                opacity: 0;
            }
            10% {
                opacity: 0.7;
            }
            90% {
                opacity: 0.7;
            }
            100% {
                transform: translateY(-100vh) translateX(100px) rotate(360deg) scale(0.5);
                opacity: 0;
            }
        }
        
        .floating-text {
            position: absolute;
            pointer-events: none;
            z-index: 1;
            font-size: 1.4rem;
            font-weight: bold;
            color: rgba(255, 255, 255, 0.3);
            animation: float-text 25s infinite linear;
            white-space: nowrap;
        }
        
        body.light-mode .floating-text {
            color: rgba(0, 0, 0, 0.2);
        }
        
        @keyframes float-text {
            0% {
                transform: translateY(0) translateX(0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.5;
            }
            90% {
                opacity: 0.5;
            }
            100% {
                transform: translateY(-80vh) translateX(200px) rotate(5deg);
                opacity: 0;
            }
        }
        
        .timer-display {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--accent);
            background: rgba(0, 0, 0, 0.4);
            padding: 8px 20px;
            border-radius: 30px;
        }
        
        .result-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
            z-index: 20;
            border-radius: var(--border-radius);
        }
        
        .result-overlay.show {
            opacity: 1;
            pointer-events: all;
        }
        
        .result-title {
            font-size: 3.5rem;
            margin-bottom: 20px;
            color: var(--accent);
            text-align: center;
        }
        
        .result-cps {
            font-size: 4rem;
            font-weight: 700;
            margin-bottom: 40px;
            color: white;
        }
        
        .result-rank {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: #ffcc00;
            text-align: center;
            max-width: 80%;
        }
        
        .result-description {
            font-size: 1.3rem;
            color: #ddd;
            text-align: center;
            max-width: 80%;
            line-height: 1.6;
            margin-bottom: 40px;
        }
        
        .close-result {
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 15px 40px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .close-result:hover {
            background: var(--secondary);
            transform: translateY(-3px);
        }
        
        /* Settings dropdown */
        .settings-dropdown {
            position: absolute;
            top: 70px;
            right: 10px;
            background: var(--dark-card);
            border-radius: var(--border-radius);
            padding: 20px;
            width: 300px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            z-index: 100;
            opacity: 0;
            pointer-events: none;
            transform: translateY(-10px);
            transition: var(--transition);
        }
        
        body.light-mode .settings-dropdown {
            background: var(--light-card);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .settings-dropdown.show {
            opacity: 1;
            pointer-events: all;
            transform: translateY(0);
        }
        
        .settings-dropdown h3 {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: var(--accent);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* Responsive design */
        @media (max-width: 900px) {
            .game-area {
                grid-template-columns: 1fr;
            }
            
            .target-container {
                height: 400px;
            }
            
            .settings-dropdown {
                width: 280px;
                top: 65px;
                right: 5px;
            }
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .stat-grid {
                grid-template-columns: 1fr;
            }
            
            .customization {
                grid-template-columns: 1fr;
            }
            
            .game-buttons {
                flex-direction: column;
            }
            
            .settings-dropdown {
                width: 95%;
                left: 2.5%;
                right: auto;
                top: 60px;
            }
            
            .target {
                width: 120px;
                height: 120px;
            }
        }
    </style>
</head>
<body>
    <!-- Floating emojis and text -->
    <div class="floating" style="top: 10%; left: 5%; animation-duration: 18s;">üî´</div>
    <div class="floating" style="top: 20%; left: 80%; animation-duration: 22s;">üéØ</div>
    <div class="floating" style="top: 40%; left: 15%; animation-duration: 25s;">üí•</div>
    <div class="floating" style="top: 60%; left: 70%; animation-duration: 20s;">üî•</div>
    <div class="floating" style="top: 30%; left: 45%; animation-duration: 17s;">‚ö°</div>
    <div class="floating" style="top: 75%; left: 25%; animation-duration: 23s;">üëæ</div>
    
    <div class="floating-text" style="top: 15%; left: 20%; animation-duration: 30s;">ËèúÂ∞±Â§öÁªÉ</div>
    <div class="floating-text" style="top: 25%; left: 65%; animation-duration: 35s;">ÊàëÈ©¨Êû™‰∫Ü</div>
    <div class="floating-text" style="top: 55%; left: 10%; animation-duration: 28s;">‰∫∫ÂΩ¢Ëá™Ëµ∞ÊåÇ</div>
    <div class="floating-text" style="top: 85%; left: 75%; animation-duration: 32s;">ÁîµÂ≠êÂéÇÈ¢ÑÂ§áÂΩπ</div>
    <div class="floating-text" style="top: 45%; left: 80%; animation-duration: 40s;">ÊàòÊúØÊ†∏ÊòæÂç°</div>
    
    <div class="container">
        <header>
            <h1>‰∏ì‰∏öÊâãÈÄüÊµãËØï</h1>
            <div class="controls">
                <button class="control-btn" id="theme-toggle" title="ÂàáÊç¢‰∏ªÈ¢ò">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="control-btn" id="settings-toggle" title="ËÆæÁΩÆ">
                    <i class="fas fa-cog"></i>
                </button>
                <button class="control-btn" id="info-btn" title="Ê∏∏ÊàèËØ¥Êòé">
                    <i class="fas fa-info-circle"></i>
                </button>
            </div>
        </header>
        
        <div class="game-area">
            <div class="target-container" id="target-container">
                <div class="target" id="target">
                    <!-- Target will be here -->
                </div>
                <div class="timer-display" id="timer">30Áßí</div>
                <div class="result-overlay" id="result-overlay">
                    <div class="result-title">ÊµãËØïÂÆåÊàê!</div>
                    <div class="result-cps" id="result-cps">0.00 CPS</div>
                    <div class="result-rank" id="result-rank">‰∫∫‰ΩìÊèèËæπÂ∏à</div>
                    <div class="result-description" id="result-description">Â≠êÂºπÊ∞∏ËøúÂú®ÁªôÊïå‰∫∫ÁîªËΩÆÂªìÔºå‰∏ªÊâì‰∏Ä‰∏™Ëâ∫ÊúØÊïàÊûú</div>
                    <button class="close-result" id="close-result">ÂÖ≥Èó≠ÁªìÊûú</button>
                </div>
            </div>
            
            <div class="stats-panel">
                <div class="stat-section">
                    <h2><i class="fas fa-chart-line"></i> ÂÆûÊó∂Êï∞ÊçÆ</h2>
                    <div class="stat-grid">
                        <div class="stat-box">
                            <div class="stat-value" id="score">0</div>
                            <div class="stat-label">ÂæóÂàÜ</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-value" id="time-left">30</div>
                            <div class="stat-label">Ââ©‰ΩôÊó∂Èó¥</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-value" id="cps">0.00</div>
                            <div class="stat-label">ÊØèÁßíÁÇπÂáª</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-value" id="level">1</div>
                            <div class="stat-label">ÂΩìÂâçÁ≠âÁ∫ß</div>
                        </div>
                    </div>
                </div>
                
                <div class="stat-section">
                    <h2><i class="fas fa-trophy"></i> ÂΩìÂâçÊÆµ‰Ωç</h2>
                    <div class="rank-display">
                        <div class="rank-title" id="current-rank">ÂàùÂÖ•Ê±üÊπñ</div>
                        <div class="rank-range" id="rank-range">0.0 - 2.0 CPS</div>
                        <div class="rank-description" id="rank-description">Êñ∞ÊâãÈò∂ÊÆµÔºåÈúÄË¶ÅÂ§öÂä†ÁªÉ‰π†ÊèêÈ´òÊâãÈÄü</div>
                    </div>
                </div>
                
                <div class="game-buttons">
                    <button class="game-btn start-btn" id="start-btn">ÂºÄÂßãÊµãËØï</button>
                    <button class="game-btn reset-btn" id="reset-btn">ÈáçÊñ∞ÂºÄÂßã</button>
                </div>
            </div>
        </div>
        
        <!-- Settings dropdown -->
        <div class="settings-dropdown" id="settings-dropdown">
            <h3><i class="fas fa-sliders-h"></i> È´òÁ∫ßËÆæÁΩÆ</h3>
            
            <div class="stat-section">
                <h2><i class="fas fa-palette"></i> ÁõÆÊ†áÂ§ñËßÇ</h2>
                <div class="customization">
                    <div>
                        <h3 style="font-size: 1rem; margin-bottom: 10px;">È¢úËâ≤ÈÄâÊã©</h3>
                        <div class="color-picker">
                            <div class="color-option active" style="background: linear-gradient(135deg, #ff416c, #ff4b2b);" data-color="red"></div>
                            <div class="color-option" style="background: linear-gradient(135deg, #4361ee, #3a0ca3);" data-color="blue"></div>
                            <div class="color-option" style="background: linear-gradient(135deg, #4cc9f0, #4361ee);" data-color="cyan"></div>
                            <div class="color-option" style="background: linear-gradient(135deg, #f72585, #b5179e);" data-color="pink"></div>
                            <div class="color-option" style="background: linear-gradient(135deg, #2ec4b6, #1a936f);" data-color="green"></div>
                            <div class="color-option" style="background: linear-gradient(135deg, #ff9e00, #ff5400);" data-color="orange"></div>
                        </div>
                    </div>
                    <div>
                        <h3 style="font-size: 1rem; margin-bottom: 10px;">Ëá™ÂÆö‰πâÂ§ñËßÇ</h3>
                        <button class="upload-btn" id="upload-trigger">
                            <i class="fas fa-upload"></i> ‰∏ä‰º†ÂõæÁâá
                        </button>
                        <input type="file" id="image-upload" accept="image/*">
                    </div>
                </div>
            </div>
            
            <div class="stat-section">
                <h2><i class="fas fa-bullseye"></i> ÁõÆÊ†áËÆæÁΩÆ</h2>
                <div class="game-buttons">
                    <button class="game-btn reset-btn" id="reset-target-btn">
                        <i class="fas fa-sync-alt"></i> ÈáçÁΩÆÁõÆÊ†á‰ΩçÁΩÆ
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // DOM elements
            const target = document.getElementById('target');
            const startBtn = document.getElementById('start-btn');
            const resetBtn = document.getElementById('reset-btn');
            const scoreElement = document.getElementById('score');
            const timeLeftElement = document.getElementById('time-left');
            const cpsElement = document.getElementById('cps');
            const levelElement = document.getElementById('level');
            const timerElement = document.getElementById('timer');
            const themeToggle = document.getElementById('theme-toggle');
            const settingsToggle = document.getElementById('settings-toggle');
            const settingsDropdown = document.getElementById('settings-dropdown');
            const colorOptions = document.querySelectorAll('.color-option');
            const uploadTrigger = document.getElementById('upload-trigger');
            const imageUpload = document.getElementById('image-upload');
            const resultOverlay = document.getElementById('result-overlay');
            const resultCps = document.getElementById('result-cps');
            const resultRank = document.getElementById('result-rank');
            const resultDescription = document.getElementById('result-description');
            const closeResult = document.getElementById('close-result');
            const currentRank = document.getElementById('current-rank');
            const rankRange = document.getElementById('rank-range');
            const rankDescription = document.getElementById('rank-description');
            const resetTargetBtn = document.getElementById('reset-target-btn');
            const targetContainer = document.getElementById('target-container');
            
            // Game variables
            let score = 0;
            let timeLeft = 30;
            let gameActive = false;
            let timer;
            let gameTimer;
            let level = 1;
            let targetSize = 150; // ÂàùÂßãËæÉÂ§ßÂ∞∫ÂØ∏
            let startTime;
            let clicks = 0;
            
            // Rank data
            const ranks = [
                {
                    minCPS: 0,
                    maxCPS: 2,
                    tier: "ÂàùÂÖ•Ê±üÊπñ",
                    names: [
                        {name: "‰∫∫‰ΩìÊèèËæπÂ∏à", desc: "Â≠êÂºπÊ∞∏ËøúÂú®ÁªôÊïå‰∫∫ÁîªËΩÆÂªìÔºå‰∏ªÊâì‰∏Ä‰∏™Ëâ∫ÊúØÊïàÊûú"},
                        {name: "Â§ïÈò≥Á∫¢Êû™Ê≥ï", desc: "Êû™Âè£ÊäñÂä®Â¶ÇÂ∏ïÈáëÊ£ÆÔºåÂëΩ‰∏≠ÂÖ®Èù†‰ø°‰ª∞"},
                        {name: "ÈòüÂèãÂéãÂäõÊ∫ê", desc: "ËæìÂá∫‰ΩéÂà∞ËÆ©ÈòüÂèãÊÄÄÁñë‰∫∫ÁîüÔºåÂõ¢ÁÅ≠ÂèëÂä®Êú∫"},
                        {name: "Á©∫Â§ßËâ∫ÊúØÂÆ∂", desc: "Â§ßÊãõÊ∞∏ËøúÊîæÁ©∫ÔºåÊäÄËÉΩÂÆåÁæéÈÅøÂºÄ‰∫∫Áæ§"},
                        {name: "ÊÖàÂñÑÂàÆÁóßÂ∏à", desc: "‰º§ÂÆ≥‰ΩéÂæóÂÉèÁªôBOSSÂÅöÂÖçË¥πÊåâÊë©"}
                    ]
                },
                {
                    minCPS: 2,
                    maxCPS: 4,
                    tier: "ÊâãÊÑüÁéÑÂ≠¶",
                    names: [
                        {name: "ÈöèÁºòÊû™Êâã", desc: "ËæìÂá∫È´ò‰ΩéÂÖ®ÁúãÊúçÂä°Âô®ÂøÉÊÉÖÂíåÊó©È§êÂêÉ‰ªÄ‰πà"},
                        {name: "ËñõÂÆöË∞îÁöÑDPS", desc: "ËæìÂá∫Êï∞ÂÄºÂ§Ñ‰∫éÈáèÂ≠êÂè†Âä†ÊÄÅÔºåÊâìÂÆåÊâçÁü•ÈÅìÊòØÁ•ûÊòØÈ¨º"},
                        {name: "Èó¥Ê≠áÊÄßÊàòÁ•û", desc: "ÂÅ∂Â∞îÁÅµÂÖâ‰∏ÄÈó™Ë∂ÖÁ•ûÔºåÂ∏∏ÊÄÅÊòØÈªòÈªòÊó†Èóª"},
                        {name: "AOEÊÖàÂñÑÂÆ∂", desc: "ËåÉÂõ¥ÊäÄËÉΩÁªèÂ∏∏ÈÄ†Á¶èÂØπÊâã"},
                        {name: "ÁàÜÁßç‰ΩìÈ™åÂç°", desc: "Áü≠ÊöÇÁàÜÂèëÂêéËøÖÈÄüËøõÂÖ•Ë¥§ËÄÖÊ®°Âºè"}
                    ]
                },
                {
                    minCPS: 4,
                    maxCPS: 6,
                    tier: "Á®≥ÂÆöËæìÂá∫",
                    names: [
                        {name: "Á®≥ÂÆöÊâ≥Êú∫", desc: "Âõ¢ÈòüÊúÄÂÆâÂøÉÁöÑÊâìÂ∑•‰∫∫ÔºåËæìÂá∫‰ªé‰∏çÊéâÈìæÂ≠ê"},
                        {name: "Êó†ÊÉÖÂ∑•ÂÖ∑‰∫∫", desc: "Á≤æÂáÜÊâßË°åÂæ™ÁéØÔºåËé´ÂæóÊÑüÊÉÖÂè™‰∏∫ÂÆåÊàêKPI"},
                        {name: "ÂèäÊ†ºÁ∫øÊàòÁ•û", desc: "Ê∞∏ËøúÂú®ÂêàÊ†ºÁ∫ø‰∏äË∑≥ËàûÔºåÂ§ö‰∏ÄÂàÜÊµ™Ë¥π"},
                        {name: "Âõ¢ÈòüËìÑÁîµÊ±†", desc: "ÊåÅÁª≠Á®≥ÂÆö‰æõËÉΩÔºåÊòØÂõ¢ÈòüËøêËΩ¨ÁöÑÂü∫Á°Ä"},
                        {name: "Âä≥Ê®°ËæìÂá∫Êú∫", desc: "Âã§Âã§ÊÅ≥ÊÅ≥ÔºåËæìÂá∫ÊÄªÈáèÈù†Êó∂ÈïøÂíåÊØÖÂäõ"}
                    ]
                },
                {
                    minCPS: 6,
                    maxCPS: 8,
                    tier: "Á≤æÂáÜÊâìÂáª",
                    names: [
                        {name: "Ë¶ÅÂÆ≥ÁãôÂáªÊâã", desc: "Âº±ÁÇπÂ∞±ÊòØÊàëÁöÑÈù∂ÂøÉÔºåÊû™Êû™ÂàÄÂàÄÁÉàÁÅ´"},
                        {name: "Âº±ÁÇπË¥®Ê£ÄÂëò", desc: "‰∏ì‰∏öÊ£ÄÊµãBOSS/Êïå‰∫∫Âº±ÁÇπÊòØÂê¶ËææÊ†á"},
                        {name: "Êö¥ÂáªÂç∞Âà∑Êú∫", desc: "Êö¥ÂáªÁéá/Êö¥Âáª‰º§ÂÆ≥È´òÂæóÁ¶ªË∞±ÔºåÈªÑÂ≠óÁ∫¢Â≠óÂà∑Â±è"},
                        {name: "ÁÇπÊùÄÂ§ßÂ∏à", desc: "‰ºòÂÖàÈõÜÁÅ´ÔºåÂÖ≥ÈîÆÁõÆÊ†áÁû¨Èó¥Ëí∏Âèë"},
                        {name: "ÁîµÁ´ûÁéãËØ≠Â´£", desc: "ÁêÜËÆ∫Á≤æÈÄö+Êìç‰ΩúÁäÄÂà©ÔºåÊâìÂì™ÊåáÂì™"}
                    ]
                },
                {
                    minCPS: 8,
                    maxCPS: 10,
                    tier: "ÊàòÂú∫‰∏ªÂÆ∞",
                    names: [
                        {name: "ÊàòÂú∫Êî∂Ââ≤Êú∫", desc: "Âõ¢ÊàòÁªûËÇâÊú∫ÔºåËµ∞Âà∞Âì™Ê≠ªÂà∞Âì™"},
                        {name: "Ë°åËµ∞ÁöÑÁÇÆÂè∞", desc: "ÁÅ´ÂäõË¶ÜÁõñËåÉÂõ¥ÂπøÔºåÊåÅÁª≠ÂéãÂà∂ÂäõÊûÅÂº∫"},
                        {name: "Âõ¢ÁÅ≠ÂèëÂä®Êú∫", desc: "‰∏Ä‰∫∫ÊàêÂÜõÔºåÂêØÂä®Â∞±ËÉΩÊâ≠ËΩ¨ÊàòÂ±Ä"},
                        {name: "ÂÖ≥ÈîÆÂÖàÁîü/Â•≥Â£´", desc: "ÊÄªÊòØÂú®ÊúÄÈúÄË¶ÅÁöÑÊó∂ÂÄôÊâìÂá∫ÁàÜÁÇ∏ËæìÂá∫"},
                        {name: "DPSÊ∞∏Âä®Êú∫", desc: "ËæìÂá∫È´ò„ÄÅÁª≠Ëà™Âº∫„ÄÅÁîüÂ≠òÂ•ΩÔºåÂÖ®Á®ãÂú®Á∫ø"}
                    ]
                },
                {
                    minCPS: 10,
                    maxCPS: 999,
                    tier: "‰∫∫ÂΩ¢ÂÖµÂô®",
                    names: [
                        {name: "ÊàòÊúØÊ†∏ÊòæÂç°", desc: "ËæìÂá∫ËÉΩÂäõË∂≥‰ª•ÁÉßÊØÅÊòæÂç°ÔºåÊàòÁï•Á∫ßÂ®ÅÊÖë"},
                        {name: "‰∫∫ÂΩ¢Ëá™Ëµ∞ÊåÇ", desc: "Êìç‰ΩúÂíåËæìÂá∫Âº∫Âà∞ÂÉèÂºÄ‰∫ÜÂ§ñÊåÇ"},
                        {name: "Âõ†ÊûúÂæãÂÖµÂô®", desc: "ËæìÂá∫Ë∂ÖË∂äÊ∏∏ÊàèÊú∫Âà∂ÁêÜËß£"},
                        {name: "Êï∞ÂÄºÁ≠ñÂàí‰πãÊïå", desc: "ËæìÂá∫ËÉΩÂäõÁ™ÅÁ†¥ËÅå‰∏ö/ÁâàÊú¨ËÆæËÆ°‰∏äÈôê"},
                        {name: "ÊúçÂä°Âô®ÂéãÂäõÊµãËØïÂëò", desc: "ÊäÄËÉΩÁâπÊïàÂíå‰º§ÂÆ≥Êï∞ÂÄºÂ§öÂà∞ËÆ©ÊúçÂä°Âô®Âç°È°ø"}
                    ]
                },
                {
                    minCPS: -1,
                    maxCPS: 0,
                    tier: "ÁâπÊÆäÊÆµ‰Ωç",
                    names: [
                        {name: "ÁîµÂ≠êÂéÇÈ¢ÑÂ§áÂΩπ", desc: "ËæìÂá∫‰ΩéÂà∞‰∏çÂ¶ÇNPCÔºåÈòüÂèãÁ∫∑Á∫∑ÂäùÂÖ∂ËøõÂéÇ"},
                        {name: "È´òÂéãÁîµÁÑäÂ∑•", desc: "‰º§ÂÆ≥Êï∞Â≠ó‰Ωé‰∏îÂØÜÈõÜÔºåÂÉèÂú®Áî®ÁîµÁÑäÊû™ÂàÆÁóß"},
                        {name: "ÊïåÊàëËØÜÂà´ÈöúÁ¢çËÄÖ", desc: "ÁªèÂ∏∏ËØØ‰º§ÈòüÂèãÊàñÁªôÊïå‰∫∫Âä†Buff"},
                        {name: "ÁîµÁ´ûÊÖàÂñÑÂÆ∂", desc: "Ëá¥Âäõ‰∫éÁªôÂØπÊâãÈÄÅ‰∫∫Â§¥/Ê∏©Êöñ"},
                        {name: "ÈáèÂ≠êÊ≥¢Âä®ËæìÂá∫Ê≥ï‰º†‰∫∫", desc: "ËæìÂá∫ÊñπÂºèÁéÑÂ¶ô‰∏çÂèØÊµã"}
                    ]
                }
            ];
            
            // Initialize
            updateRankDisplay(0);
            moveTarget();
            
            // Theme toggle
            themeToggle.addEventListener('click', () => {
                document.body.classList.toggle('light-mode');
                themeToggle.innerHTML = document.body.classList.contains('light-mode') ? 
                    '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
            });
            
            // Settings dropdown toggle
            settingsToggle.addEventListener('click', (e) => {
                e.stopPropagation();
                settingsDropdown.classList.toggle('show');
            });
            
            // Close dropdown when clicking outside
            document.addEventListener('click', (e) => {
                if (!settingsDropdown.contains(e.target) && e.target !== settingsToggle) {
                    settingsDropdown.classList.remove('show');
                }
            });
            
            // Color selection
            colorOptions.forEach(option => {
                option.addEventListener('click', () => {
                    // Remove active class from all options
                    colorOptions.forEach(opt => opt.classList.remove('active'));
                    
                    // Add active class to clicked option
                    option.classList.add('active');
                    
                    // Remove image if present
                    target.innerHTML = '';
                    target.style.background = option.style.background;
                });
            });
            
            // Image upload
            uploadTrigger.addEventListener('click', () => {
                imageUpload.click();
            });
            
            imageUpload.addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        // Remove background color
                        target.style.background = 'none';
                        
                        // Create image element
                        target.innerHTML = `<img src="${event.target.result}" alt="Custom target">`;
                        
                        // Remove active class from color options
                        colorOptions.forEach(opt => opt.classList.remove('active'));
                    };
                    reader.readAsDataURL(file);
                }
            });
            
            // Start game
            startBtn.addEventListener('click', startGame);
            
            // Reset game
            resetBtn.addEventListener('click', resetGame);
            
            // Reset target position
            resetTargetBtn.addEventListener('click', moveTarget);
            
            // Close result
            closeResult.addEventListener('click', () => {
                resultOverlay.classList.remove('show');
            });
            
            // Click target
            target.addEventListener('click', () => {
                if (!gameActive) return;
                
                // Increase score
                score++;
                clicks++;
                scoreElement.textContent = score;
                
                // Update CPS
                updateCPS();
                
                // Increase difficulty
                increaseDifficulty();
                
                // Move target
                moveTarget();
            });
            
            function startGame() {
                if (gameActive) return;
                
                // Reset game state
                resetGame();
                gameActive = true;
                startTime = Date.now();
                clicks = 0;
                
                // Start timers
                timer = setInterval(() => {
                    timeLeft--;
                    timeLeftElement.textContent = timeLeft;
                    timerElement.textContent = `${timeLeft}Áßí`;
                    
                    if (timeLeft <= 0) {
                        endGame();
                    }
                }, 1000);
                
                // End game after 30 seconds
                gameTimer = setTimeout(endGame, 30000);
                
                // Disable start button
                startBtn.disabled = true;
                
                // Move target to initial position
                moveTarget();
                
                // Set initial larger target size
                targetSize = 150;
                target.style.width = `${targetSize}px`;
                target.style.height = `${targetSize}px`;
            }
            
            function resetGame() {
                // Clear timers
                clearInterval(timer);
                clearTimeout(gameTimer);
                
                // Reset variables
                score = 0;
                timeLeft = 30;
                gameActive = false;
                level = 1;
                targetSize = 150;
                
                // Update UI
                scoreElement.textContent = score;
                timeLeftElement.textContent = timeLeft;
                timerElement.textContent = `${timeLeft}Áßí`;
                cpsElement.textContent = "0.00";
                levelElement.textContent = level;
                
                // Reset target size
                target.style.width = `${targetSize}px`;
                target.style.height = `${targetSize}px`;
                
                // Enable start button
                startBtn.disabled = false;
                
                // Update rank display
                updateRankDisplay(0);
                
                // Hide settings dropdown
                settingsDropdown.classList.remove('show');
                
                // Hide result overlay
                resultOverlay.classList.remove('show');
                
                // Reset target position
                moveTarget();
            }
            
            function endGame() {
                gameActive = false;
                clearInterval(timer);
                clearTimeout(gameTimer);
                

                
                // Calculate final CPS
                const cps = score / 30;
                cpsElement.textContent = cps.toFixed(2);
                
                // Show result overlay
                resultCps.textContent = `${cps.toFixed(2)} CPS`;
                
                // Get and display rank
                const rank = getRank(cps);
                resultRank.textContent = rank.name;
                resultDescription.textContent = rank.desc;
                
                resultOverlay.classList.add('show');
                
                // Enable start button
                startBtn.disabled = false;
            }
            
            function moveTarget() {
                const container = targetContainer;
                const containerRect = container.getBoundingClientRect();
                
                // Calculate maximum positions
                const maxX = containerRect.width - target.offsetWidth;
                const maxY = containerRect.height - target.offsetHeight;
                
                // Ensure the target stays within the container
                const randomX = Math.max(0, Math.min(maxX, Math.floor(Math.random() * maxX)));
                const randomY = Math.max(0, Math.min(maxY, Math.floor(Math.random() * maxY)));
                
                // Apply new position
                target.style.left = `${randomX}px`;
                target.style.top = `${randomY}px`;
            }
            
            function increaseDifficulty() {
                // Level up every 10 points
                const newLevel = Math.floor(score / 10) + 1;
                
                if (newLevel > level) {
                    level = newLevel;
                    levelElement.textContent = level;
                    
                    // Decrease target size (min 40px)
                    targetSize = Math.max(40, 150 - (level * 8));
                    target.style.width = `${targetSize}px`;
                    target.style.height = `${targetSize}px`;
                    
                    // Update rank display
                    const cps = clicks / ((Date.now() - startTime) / 1000);
                    updateRankDisplay(cps);
                }
            }
            
            function updateCPS() {
                const elapsedTime = (Date.now() - startTime) / 1000;
                if (elapsedTime > 0.5) {
                    const cps = clicks / elapsedTime;
                    cpsElement.textContent = cps.toFixed(2);
                    
                    // Update rank display
                    updateRankDisplay(cps);
                }
            }
            
            function updateRankDisplay(cps) {
                const rank = getRank(cps);
                currentRank.textContent = rank.tier;
                rankRange.textContent = `${rank.minCPS.toFixed(1)} - ${rank.maxCPS === 999 ? "‚àû" : rank.maxCPS.toFixed(1)} CPS`;
                rankDescription.textContent = rank.desc;
            }
            
            function getRank(cps) {
                let selectedRank = ranks[6]; // Default to special rank
                
                // Find matching rank tier
                for (const rank of ranks) {
                    if (cps >= rank.minCPS && cps < rank.maxCPS) {
                        selectedRank = rank;
                        break;
                    }
                }
                
                // Select random name from the tier
                const randomName = selectedRank.names[Math.floor(Math.random() * selectedRank.names.length)];
                
                return {
                    tier: selectedRank.tier,
                    name: randomName.name,
                    desc: randomName.desc,
                    minCPS: selectedRank.minCPS,
                    maxCPS: selectedRank.maxCPS
                };
            }
            
            // Create floating elements
            function createFloatingElements() {
                const emojis = ['üî´', 'üéØ', 'üí•', 'üî•', '‚ö°', 'üëæ', 'üí£', 'üß®', 'üïπÔ∏è', 'üéÆ'];
                const texts = ['ËèúÂ∞±Â§öÁªÉ', 'ÊàëÈ©¨Êû™‰∫Ü', '‰∫∫ÂΩ¢Ëá™Ëµ∞ÊåÇ', 'ÁîµÂ≠êÂéÇÈ¢ÑÂ§áÂΩπ', 'ÊàòÊúØÊ†∏ÊòæÂç°', 
                              'Â§ïÈò≥Á∫¢Êû™Ê≥ï', 'ÊèèËæπÂ§ßÂ∏à', 'ÂàÆÁóß‰πãÁéã', '‰∫∫‰ΩìÊèèËæπ', 'Á©∫Â§ßËâ∫ÊúØÂÆ∂'];
                
                // Create emojis
                for (let i = 0; i < 15; i++) {
                    const emoji = document.createElement('div');
                    emoji.className = 'floating';
                    emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                    emoji.style.left = `${Math.random() * 100}%`;
                    emoji.style.top = `${Math.random() * 100}%`;
                    emoji.style.fontSize = `${Math.random() * 2 + 1.5}rem`;
                    emoji.style.animationDuration = `${Math.random() * 10 + 15}s`;
                    document.body.appendChild(emoji);
                }
                
                // Create texts
                for (let i = 0; i < 10; i++) {
                    const text = document.createElement('div');
                    text.className = 'floating-text';
                    text.textContent = texts[Math.floor(Math.random() * texts.length)];
                    text.style.left = `${Math.random() * 100}%`;
                    text.style.top = `${Math.random() * 100}%`;
                    text.style.fontSize = `${Math.random() * 0.5 + 1.2}rem`;
                    text.style.animationDuration = `${Math.random() * 15 + 25}s`;
                    document.body.appendChild(text);
                }
            }
            
            // Initialize floating elements
            createFloatingElements();
        });
    </script>
</body>
</html>